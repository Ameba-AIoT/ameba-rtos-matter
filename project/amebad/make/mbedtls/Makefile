include $(MAKE_INCLUDE_GEN)

.PHONY: all clean

#*****************************************************************************#
#                              VARIABLES                                      #
#*****************************************************************************#

#*****************************************************************************#
#                              SOURCE FILE LIST                               #
#*****************************************************************************#
OBJS =

#*****************************************************************************#
#                              INCLUDE DEPENDENCY                             #
#*****************************************************************************#
-include $(OBJS:.o=.d)

#*****************************************************************************#
#                              RULES TO GENERATE TARGETS                      #
#*****************************************************************************#
all: CORE_TARGETS COPY_RAM_OBJS
ifeq ($(MBEDTLS_MATTER_ENABLE), y)
ifeq ($(MBEDTLS_VERSION), mbedtls-3.6.1)
	@make -C mbedtls-3.6.1 all
else ifeq ($(MBEDTLS_VERSION), mbedtls-2.28.1)
	@make -C mbedtls-2.28.1 all
endif
endif

#*****************************************************************************#
#                              GENERATE OBJECT FILE                           #
#*****************************************************************************#
CORE_TARGETS: $(OBJS)

#*****************************************************************************#
#                              CLEAN GENERATED FILES                          #
#*****************************************************************************#
clean: CLEAN_OBJS
ifeq ($(MBEDTLS_MATTER_ENABLE), y)
	@make -C mbedtls-3.6.1 clean
	@make -C mbedtls-2.28.1 clean
endif

-include $(DEPS)
